<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Exdata - converter</title>

    <!-- Bootstrap -->
    <link href="{{ url_for('static', filename='css/bootstrap-4.4.1.css') }}" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
   <body>
    <div class="jumbotron jumbotron-fluid text-center" style="min-height: 100%; min-height: 100vh; align-items: center;">
		<p style="text-align: left"> &nbsp;&nbsp; <a class="btn btn-outline-secondary" href="./"><i class="fa fa-angle-left"></i>&nbsp;&nbsp;Go back </a></p>
		<div class="col d-flex justify-content-center">
  		  <div class="card" style="border-radius: 25px;">
		   	<div class="card-body">
		     <h5 class="card-title">Upload new file</h5>
			  
				<div class="card" style="border-color: black; margin:20px; border-radius: 15px;">
					<br/>
		     <form method="POST" enctype="multipart/form-data">
      				<input type="file" name="file[]" id="uploader" multiple accept="application/vnd.openxmlformats-officedocument.wordprocessingml.document">
              <br />
              <br />
      				<input class="btn btn-primary btn-lg" type="submit" value="Convert">&nbsp;
   			 </form>
					<br/>
          <button class="btn btn-warning btn-lg" onclick="window.location.reload();" style="width: 80%; align-self: center;"><i class="fa fa-refresh"></i>&nbsp;&nbsp;Try again</button>
        <br />
				</div>
		   	</div>
      		</div>
		<br />

		</div>
    <br /><br /><br /><br />
    <div class="col d-flex justify-content-center">
    <div class="card" style="border-radius: 25px; width: 75%; align-self: center; visibility: hidden;" id="myDiv">
      <div class="card-body">
          <h5 class="card-title">Queued</h5>
          <br />
          <div class="container-fluid">
            <div class="row" id="theseFiles">
            </div>
          </div>
      </div>
    </div>
</div>
  </div>
  <script>
      var selDiv = "";
      document.addEventListener("DOMContentLoaded", init, false);
      function init() {
        document.querySelector('#uploader').addEventListener('change', handleFileSelect, false);
        selDiv = document.querySelector("#theseFiles");
      }

      function handleFileSelect(e) {
        if(!e.target.files) return;
        selDiv.innerHTML = "";
        var files = e.target.files;
        document.getElementById("myDiv").style.visibility = "visible";
        for(var i=0; i<files.length; i++) {
          var f = files[i];

          selDiv.innerHTML += "<div class=\"col-2 \" style=\"border-color: black; margin:20px; border-radius: 15px;border-style: solid;\">" + f.name + "<div/>";

        }

      }
    </script>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="{{ url_for('static', filename='js/jquery-3.4.1.min.js') }}"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap-4.4.1.js') }}"></script>
  </body>
</html>
